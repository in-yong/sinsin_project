$(function(){function t(t){$(".guide_table tr").find("td:eq("+i+")").each(function(s,e){var a=$(e);0==s&&(l=$(e).siblings().size()),l>$(e).siblings().size()&&(a=$(e).prev());var n=a.text();"#sinsin"!=location.hash&&(n="",$(".docReq_1").hide()),t?(console.log("rgb(34, 177, 76)"==t.css("color")),"rgb(34, 177, 76)"==t.css("color")?a.html("<a href='#"+n+"' class='cellManage'>"+n+"</a>"):n!=t.text()?a.html("<a href='#"+n+"' class='cellManage' style='display:none'>"+n+"</a>"):a.html("<a href='#"+n+"' class='cellManage'>"+n+"</a>")):a.html("<a href='#"+n+"' class='cellManage'>"+n+"</a>")})}function s(s){s.preventDefault();var e=$(this),a=e.text();t(e),"rgb(34, 177, 76)"!=e.css("color")&&$(".guide_table td:contains('"+a+"') a").css({fontWeight:"bold",color:"#22b14c"})}function e(t){t.preventDefault();var s=$(this),e=s.attr("href"),a=e.substring(e.indexOf("#")+1);if($("#header>ul>li>a.on").removeClass("on"),s.addClass("on"),$("tbody tr").css({display:"table-row"}),"all"==a||""==a)return!1;if(a){console.log("tr."+a);var n=$("tr."+a);$("tbody tr").not(n).css({display:"none"}),n.nextUntil(".cat").css({display:"table-row"})}}$(".guide_table td").hover(function(){$(this).css({backgroundColor:"#ddd"}).siblings().not("td[rowspan]").css({backgroundColor:"#ddd"})},function(){$(this).css({backgroundColor:"#fff"}).siblings().css({backgroundColor:"#fff"})});var a=$(".guide_table th").index($(".guide_table th:contains('파일명')")),n=$(".guide_table th").index($(".guide_table th:contains('진행여부')")),i=$(".guide_table th").index($(".guide_table th:contains('담당자')"));$(".guide_table tr").find("td:eq("+a+")").each(function(t,s){var e=$(s);0==t&&(l=$(s).siblings().size()),l>$(s).siblings().size()&&(e=$(s).prev());var a,n=e.text(),i=n.lastIndexOf("/");a=i>=0?n.substring(i+1):n;var r=$("<a href='"+n+"' target='_blank'>"+a+"</a>");e.html(r)});var l,r=0,c=0,o=0,d=0;$(".guide_table tr").find("td:eq("+n+")").each(function(t,s){var e=$(s);0==t&&(l=$(s).siblings().size()),l>$(s).siblings().size()&&(e=$(s).prev());var a=e.text();""==a||"-"==a?(e.text("-"),e.siblings().parent().hasClass("skipNum")||r++):"완료"==a?(e.text("완료").css({color:"#000"}),e.siblings().parent().hasClass("skipNum")||c++):"진행중"==a?(e.text("진행중").css({color:"#060"}),e.siblings().parent().hasClass("skipNum")||o++):"보류중"==a&&(e.text("보류중").css({color:"#600"}),e.siblings().parent().hasClass("skipNum")||d++)}),$(".status_ing dt").each(function(t,s){var e=$(s).text();"새문서"==e?$(s).next().text(r):"완료"==e?$(s).next().text(c):"진행중"==e?$(s).next().text(o):"보류"==e&&$(s).next().text(d)}),t(),$(document).on("click",".cellManage",s);var g=$(".cat, .cat~tr").size();$(".cat, .cat~tr").each(function(t,s){$(s).find("td:first").text(g),g--}),$("#header>ul>li>a").on({click:e})});